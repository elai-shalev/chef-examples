---
redis_package_install: true
redis_version: 6.2.6
redis_download_url: http://download.redis.io/releases/redis-{{ redis_version }}.tar.gz
redis_verify_checksum: true
redis_install_dir: /usr/local
redis_user: redis
redis_group: redis
redis_log_dir: /var/log/redis
redis_data_dir: /var/lib/redis
redis_config_dir: /etc/redis
redis_init_system: systemd
redis_servers:
  - port: 6379
    requirepass: redis_secure_password_123
    replicaservestaledata:
    bind: 127.0.0.1
    unixsocket: ""
    unixsocketperm: ""
    timeout: 0
    tcp_keepalive: 0
    loglevel: notice
    logfile: /var/log/redis/redis-server.log
    databases: 16
    save:
      - 900 1
      - 300 10
      - 60 10000
    rdbcompression: "yes"
    dbfilename: dump.rdb
    dir: /var/lib/redis
    slaveof: ""
    masterauth: ""
    slave_serve_stale_data: "yes"
    slave_read_only: "yes"
    repl_ping_slave_period: 10
    repl_timeout: 60
    repl_disable_tcp_nodelay: "no"
    maxclients: 10000
    maxmemory: ""
    maxmemory_policy: volatile-lru
    maxmemory_samples: 3
    appendonly: "no"
    appendfsync: everysec
    no_appendfsync_on_rewrite: "no"
    auto_aof_rewrite_percentage: 100
    auto_aof_rewrite_min_size: 64mb
    lua_time_limit: 5000
    slowlog_log_slower_than: 10000
    slowlog_max_len: 128
    hash_max_ziplist_entries: 512
    hash_max_ziplist_value: 64
    list_max_ziplist_entries: 512
    list_max_ziplist_value: 64
    set_max_intset_entries: 512
    zset_max_ziplist_entries: 128
    zset_max_ziplist_value: 64
    activerehashing: "yes"
    client_output_buffer_limit:
      - normal 0 0 0
      - slave 256mb 64mb 60
      - pubsub 32mb 8mb 60
    hz: 10
    aof_rewrite_incremental_fsync: "yes"
